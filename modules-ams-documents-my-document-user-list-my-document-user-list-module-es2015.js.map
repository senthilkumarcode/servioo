{"version":3,"sources":["./src/app/modules/ams/documents/document-config/document-create/document-create.component.html","./src/app/modules/ams/documents/my-document-user-list/my-document-user-list.component.html","./src/app/modules/ams/documents/document-config/document-create/document-create.component.scss","./src/app/modules/ams/documents/document-config/document-create/document-create.component.ts","./src/app/modules/ams/documents/my-document-user-list/my-document-user-list-routing.module.ts","./src/app/modules/ams/documents/my-document-user-list/my-document-user-list.component.scss","./src/app/modules/ams/documents/my-document-user-list/my-document-user-list.component.ts","./src/app/modules/ams/documents/my-document-user-list/my-document-user-list.module.ts"],"names":[],"mappings":"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","file":"modules-ams-documents-my-document-user-list-my-document-user-list-module-es2015.js","sourcesContent":["export default \"<div class=\\\"document-create-modal-wrapper\\\">\\n    <div class=\\\"bg-card shadow mb-0\\\">\\n        <div class=\\\"d-flex mb-4\\\">\\n            <h4> Upload Documents</h4>\\n            <mat-icon class=\\\"ml-auto\\\" [svgIcon]=\\\"'close'\\\" mat-dialog-close></mat-icon>\\n        </div>\\n        <form>\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-sm-12\\\">\\n                    <div class=\\\"input-box\\\">\\n                        <label>Document Name</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Enter text\\\" name=\\\"documentName\\\" [(ngModel)]=\\\"document.userDocumentName\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"col-sm-12\\\" *ngIf=\\\"data.from == 'private'\\\">\\n                    <condo-select \\n                        labelText=\\\"Document Category\\\"\\n                        fieldPlaceholder=\\\"Document Category\\\"\\n                        [fieldList]=\\\"documentCategoryList | orderBy : 'lookupValueName'\\\"\\n                        fieldValue=\\\"lookupValueName\\\"\\n                        [fieldModel]=\\\"document.userDocumentCategoryId\\\"\\n                        fieldId=\\\"lookupValueId\\\"\\n                        (fieldParams)=\\\"setDocCategory($event)\\\" \\n                    ></condo-select>  \\n                </div>\\n                <div class=\\\"col-sm-12\\\">\\n                    <div class=\\\"input-box\\\">\\n                        <label>Description</label>\\n                        <textarea placeholder=\\\"Enter Description\\\" name=\\\"description\\\" [(ngModel)]=\\\"document.description\\\"></textarea>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-sm-12\\\">\\n                    <app-upload [fileIds]=\\\"document.fileDetailsIds\\\" [isEdit]=\\\"false\\\" (outputParams)=\\\"getFileIds($event)\\\"\\n                        [multiple]=\\\"true\\\"\\n                    ></app-upload>\\n                </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-sm-12\\\">\\n                    <button  *ngIf=\\\"data.from == 'private'\\\" class=\\\"float-right mt-4\\\" mat-flat-button  [color]=\\\"'primary'\\\" (click)=\\\"createPrivateDocument()\\\">Submit</button>\\n                    <button  *ngIf=\\\"data.from == 'public'\\\" class=\\\"float-right mt-4\\\" mat-flat-button  [color]=\\\"'primary'\\\" (click)=\\\"createPublicDocument()\\\">Submit</button>\\n                </div>\\n            </div>\\n        </form>\\n    </div>\\n</div>\";","export default \"<div class=\\\"my-documents-wrapper\\\">\\n    <div class=\\\"main\\\">\\n        <!-- Loader -->\\n        <app-loader *ngIf=\\\"!isDataLoaded\\\"></app-loader>\\n        <!-- My Documents Header -->\\n        <div class=\\\"d-flex mb-4\\\">\\n            <div>\\n                <h4>My Documents</h4>\\n                <p class=\\\"text-secondary\\\">{{totalItems}} Items</p>\\n            </div>\\n            <div class=\\\"ml-auto d-none d-md-block mr-3\\\">\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Search...\\\" [(ngModel)]=\\\"documentSearch\\\">\\n            </div>\\n            <div>\\n                <button mat-flat-button [color]=\\\"'primary'\\\" (click)=\\\"openUploadModal()\\\">Upload Documents</button>\\n            </div>\\n        </div>\\n        <!-- Documents List -->\\n        <div *ngIf=\\\"isDataLoaded\\\">\\n            <div class=\\\"bg-card shadow\\\" *ngFor=\\\"let data of documentViewList\\\">\\n                <form>\\n                    <div class=\\\"row\\\">\\n                        <div class=\\\"col-sm-4\\\">\\n                            <div class=\\\"input-box\\\">\\n                                <label>Document Name</label>\\n                                <p>{{data.userDocumentName}}</p>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"col-sm-4\\\">\\n                            <div class=\\\"input-box\\\">\\n                                <label>Document Category</label>\\n                                <p>{{data.userDocumentCatName}}</p>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"col-sm-4\\\">\\n                            <div class=\\\"input-box\\\">\\n                                <label>Inserted On</label>\\n                                <p>{{getDateFormat(data.insertedOn)}}</p>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"col-sm-12\\\">\\n                            <div class=\\\"input-box\\\">\\n                                <label>Description</label>\\n                                <p>{{data.userDocDesc}}</p>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"col-sm-12\\\">\\n                            <div class=\\\"input-box\\\">\\n                                <label>Document</label>\\n                                <p #url>\\n                                    <a *ngIf=\\\"data.fileUrl\\\" [href]=\\\"data.fileUrl\\\" target=\\\"_blank\\\">{{data.fileName}}</a>\\n                                    <a href=\\\"javascript:void(0)\\\" *ngIf=\\\"!data.fileUrl\\\" (click)=\\\"downloadFile(data,url)\\\">{{data.fileName}}</a>\\n                                </p>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </form>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYW1zL2RvY3VtZW50cy9kb2N1bWVudC1jb25maWcvZG9jdW1lbnQtY3JlYXRlL2RvY3VtZW50LWNyZWF0ZS5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, OnInit, Inject } from '@angular/core';\nimport { DocumentService } from 'src/app/api/controllers/Document';\nimport { SessionService } from 'src/app/core/session/session.service';\nimport { SharedService } from 'src/app/shared/services/shared.service';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { LookupService } from 'src/app/api/controllers/Lookup';\n\nimport * as moment from 'moment';\nimport _moment from \"moment-timezone\";\n\n@Component({\n  selector: 'app-document-create',\n  templateUrl: './document-create.component.html',\n  styleUrls: ['./document-create.component.scss']\n})\nexport class DocumentCreateComponent implements OnInit {\n  document:any = {};\n  documentCategoryList:any = [];\n  \n  constructor( private documentService:DocumentService,\n    private sharedService:SharedService,\n    private sessionService:SessionService,\n    private lookupService: LookupService,\n    public dialogRef: MatDialogRef<DocumentCreateComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    ) { }\n\n  setDocCategory(event) {\n    this.document.userDocumentCategoryId = event[0].lookupValueId\n  }\n\n  getFileIds(event) {\n    this.document.fileDetailsIds = event.join();\n  }\n\n  createPrivateDocument() {\n    let uploadDetails = {\n      \"ApartmentId\" : this.sessionService.apartmentId,\n      \"ApartmentBlockUnitId\" : this.data.apartmentBlockUnitId,\n      \"UserDocumentCategoryId\" : this.document.userDocumentCategoryId,\n      \"UserDocumentTypeId\" : 1,\n      \"UserDocumentAccessibleToId\" : 1,\n      \"UserDocumentName\" : this.document.userDocumentName,\n      \"Description\" : this.document.description,\n      \"IsActive\":true,\n      \"InsertedBy\": this.sessionService.userId,\n      \"InsertedOn\": _moment().toISOString(),\n      \"UpdatedBy\":null,\n      \"UpdatedOn\":null,\n      \"FileDetailsId\": null,\n      \"IsPublic\" : false,\n      \"files\" : null,\n      \"FileDetailsIds\": this.document.fileDetailsIds,\n    }\n    this.documentService.addUserDocument(uploadDetails).subscribe((res:any) => { \n      if(res.message) {\n        this.dialogRef.close(true);\n        this.sharedService.openSnackBar('Document Created Successfully', 'success');\n      } else {\n        this.sharedService.openSnackBar(res.responseData.value.errorMessage,'error');\n      }\n    },\n    error => {\n      this.sharedService.openSnackBar('Server Error','error');\n    }); \n  }\n\n  createPublicDocument() {\n    let params = {\n      document : {\n        \"apartmentId\": this.sessionService.apartmentId,\n        \"documentCategoryId\": this.data.userDocumentCategoryId,\n        \"documentTypeId\": 1,\n        \"documentAccessibleToId\": 1,\n        \"documentName\": this.document.userDocumentName,\n        \"description\": this.document.description,\n        \"fileDetailsId\": this.document.fileDetailsId,\n        \"uploadedBy\": this.sessionService.userId,\n        \"uploadedOn\": _moment().toISOString(),\n        \"isActive\": true,\n        \"insertedBy\":  this.sessionService.userId,\n        \"insertedOn\": _moment().toISOString(),\n        \"updatedBy\": null,\n        \"updatedOn\": null,\n        \"files\" : null\n      }\n    }\n    this.documentService.addDocument(params).subscribe((res:any) => { \n      if(res.message) {\n        this.dialogRef.close(true);\n        this.sharedService.openSnackBar('Document Created Successfully', 'success');\n      } else {\n        this.sharedService.openSnackBar(res.responseData.value.errorMessage,'error');\n      }\n    },\n    error => {\n      this.sharedService.openSnackBar('Server Error','error');\n    }); \n  }\n\n  ngOnInit(): void {\n    if(this.data.from == 'private') {\n      let params = {\n        LookupTypeId: 200,\n        ApartmentId: this.sessionService.apartmentId,\n      }\n      this.lookupService.getLookupValueByLookupTypeId(params).subscribe((res:any) => {\n        this.documentCategoryList = res;\n      });\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MyDocumentUserListComponent } from './my-document-user-list.component';\n\nconst routes: Routes = [\n  {path:'',component:MyDocumentUserListComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MyDocumentUserListRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYW1zL2RvY3VtZW50cy9teS1kb2N1bWVudC11c2VyLWxpc3QvbXktZG9jdW1lbnQtdXNlci1saXN0LmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { SessionService } from 'src/app/core/session/session.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { FileDownloadService } from 'src/app/shared/services/file-download.service';\nimport { DocumentService } from 'src/app/api/controllers/Document';\nimport * as moment from 'moment';\nimport _moment from \"moment-timezone\";\nimport { MatDialog } from '@angular/material/dialog';\nimport { DocumentCreateComponent } from '../document-config/document-create/document-create.component';\n\n@Component({\n  selector: 'app-my-document-user-list',\n  templateUrl: './my-document-user-list.component.html',\n  styleUrls: ['./my-document-user-list.component.scss']\n})\nexport class MyDocumentUserListComponent implements OnInit {\n  isDataLoaded:boolean;\n  documentViewList:any = [];\n  totalItems:number;\n  constructor(\n    private sessionService:SessionService,\n    private documentService:DocumentService,\n    private fileDownloadService: FileDownloadService,\n    private sanitizer: DomSanitizer,\n    public dialog: MatDialog,\n    private changeDetection:ChangeDetectorRef\n  ) { }\n\n  getDateFormat(date) {\n    return moment(date).format('ddd MMM D YYYY hh:mm A');\n  }\n\n  openUploadModal() {\n    const dialogRef = this.dialog.open(DocumentCreateComponent, {\n      panelClass: 'material-dialog-medium',\n      data: {from:'private',apartmentBlockUnitId:this.sessionService.apartmentBlockUnitID}\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if(result) {\n        this.getDocumetList();\n      }\n    });\n  }\n\n  downloadFile(data,url) {\n    if(data.filePath && !data.fileUrl) {\n      this.fileDownloadService.downloadFile(data.filePath).subscribe((down:any) => {\n        const blob = down.body;\n        let objectURL,sanitizeUrl:any,trigger;\n        objectURL = URL.createObjectURL(blob); \n        sanitizeUrl = this.sanitizer.bypassSecurityTrustUrl(objectURL);\n        data.fileUrl = sanitizeUrl;\n        this.changeDetection.detectChanges();\n        trigger = url.firstElementChild;\n        trigger.click();\n      })\n    }\n  }\n\n  getDocumetList() {\n    this.isDataLoaded = false;\n    let params = {\n      ApartmentBlockUnitId : this.sessionService.apartmentBlockUnitID,\n      ApartmentId : this.sessionService.apartmentId\n    }\n    this.documentService.getAllDocByApartmentBlockUnitId(params).subscribe((res:any)=>{\n      this.isDataLoaded = true;\n      if(res.length > 0) {\n        this.documentViewList = res;\n      }\n      this.totalItems = res.length;\n    })\n  }\n\n  ngOnInit(): void {\n    this.getDocumetList();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MyDocumentUserListRoutingModule } from './my-document-user-list-routing.module';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { CondoCardModule } from 'src/app/modules/ui/card/card.module';\nimport { SelectModule } from 'src/app/modules/ui/select/select.module';\nimport { UploadModule } from 'src/app/modules/ui/upload/upload.module';\nimport { MyDocumentUserListComponent } from './my-document-user-list.component';\n\n\n@NgModule({\n  declarations: [\n    MyDocumentUserListComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    CondoCardModule,\n    SelectModule,\n    UploadModule,\n    MyDocumentUserListRoutingModule\n  ]\n})\nexport class MyDocumentUserListModule { }\n"],"sourceRoot":"webpack:///"}