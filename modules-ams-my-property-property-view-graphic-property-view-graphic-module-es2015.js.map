{"version":3,"sources":["./src/app/modules/ams/my-property/property-view-graphic/property-view-graphic.component.html","./src/app/modules/ams/my-property/property-view-graphic/property-view-graphic-routing.module.ts","./src/app/modules/ams/my-property/property-view-graphic/property-view-graphic.component.scss","./src/app/modules/ams/my-property/property-view-graphic/property-view-graphic.component.ts","./src/app/modules/ams/my-property/property-view-graphic/property-view-graphic.module.ts"],"names":[],"mappings":"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","file":"modules-ams-my-property-property-view-graphic-property-view-graphic-module-es2015.js","sourcesContent":["export default \"<div class=\\\"helpdesk-all-tickets-wrapper content-layout right-sidebar-fullheight-basic-inner-scroll main\\\">\\n  <mat-drawer-container [hasBackdrop]=\\\"true\\\" #matDrawer>\\n    <mat-drawer class=\\\"col-lg-3 col-md-3 col-sm-3 col-xs-3 p-0\\\" #filter mode=\\\"over\\\" position=\\\"end\\\">\\n      <div class=\\\"helpdesk-filter-drawer\\\">\\n        <div class=\\\"title\\\">\\n          <h4> Filter </h4>\\n          <div class=\\\"ml-auto\\\">\\n            <button mat-icon-button (click)=\\\"goBack()\\\">\\n              <mat-icon [svgIcon]=\\\"'close'\\\"></mat-icon>\\n            </button>\\n          </div>\\n        </div>\\n        <form #propertyFilterForm=\\\"ngForm\\\" name=\\\"categoryFilter\\\" novalidate>\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\" *ngIf=\\\"selectedFloor\\\">\\n              <condo-select labelText=\\\"Property Type\\\" fieldPlaceholder=\\\"Select Property\\\" [fieldRequired]=\\\"'null'\\\"\\n                [fieldList]=\\\"propertyTypeList\\\" fieldValue=\\\"lookupValueName\\\" [fieldModel]=\\\"selectedPropertyType\\\"\\n                fieldId=\\\"lookupValueId\\\" (fieldParams)=\\\"selectPropertyType($event)\\\"></condo-select>\\n            </div>\\n            <div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-3\\\" *ngIf=\\\"selectedFloor\\\">\\n              <condo-select labelText=\\\"Unit Category\\\" fieldPlaceholder=\\\"Select Unit Category\\\" [fieldRequired]=\\\"'null'\\\"\\n                [fieldList]=\\\"unitFilterList\\\" fieldValue=\\\"name\\\" [fieldModel]=\\\"selectedUnitFilterValue\\\" fieldId=\\\"id\\\"\\n                (fieldParams)=\\\"selectedUnitFilter($event)\\\"></condo-select>\\n            </div>\\n          </div>\\n        </form>\\n      </div>\\n    </mat-drawer>\\n    <mat-drawer-content>\\n      <div class=\\\"poiManagement\\\">\\n        <div class=\\\"topBar\\\">\\n          <form  #selectPropertyForm=\\\"ngForm\\\" name=\\\"selectProperty\\\" novalidate>\\n            <div class=\\\"row\\\">\\n              <div class=\\\"col-lg-3 col-md-3 col-sm-3 col-xs-12\\\">\\n                <condo-select labelText=\\\"Tower\\\" fieldPlaceholder=\\\"Select Tower\\\" [fieldRequired]=\\\"'null'\\\"\\n                  [fieldList]=\\\"towerList\\\" fieldValue=\\\"description\\\" [fieldModel]=\\\"selectedTower\\\"\\n                  fieldId=\\\"apartmentBlockId\\\" (fieldParams)=\\\"getFloorList($event)\\\"></condo-select>\\n              </div>\\n              <div class=\\\"col-lg-3 col-md-3 col-sm-3 col-xs-12\\\">\\n                <condo-select labelText=\\\"Floor\\\" fieldPlaceholder=\\\"Select Floor\\\" [fieldRequired]=\\\"'null'\\\"\\n                  [fieldList]=\\\"floorList\\\" fieldValue=\\\"floorLabel\\\" [fieldModel]=\\\"selectedFloor\\\"\\n                  fieldId=\\\"apartmentBlockFloorId\\\" (fieldParams)=\\\"selectFloor($event)\\\"></condo-select>\\n              </div>\\n              <div class=\\\"ml-auto mr-5 d-flex align-items-center\\\">\\n                <button mat-flat-button [color]=\\\"'accent'\\\" class=\\\"ml-3\\\" (click)=\\\"filter.toggle()\\\">\\n                  <mat-icon class=\\\"mr-2\\\" svgIcon=\\\"heroicons_outline:filter\\\"></mat-icon>Filter\\n                </button>\\n              </div>\\n              <div [hidden]=\\\"true\\\">\\n                <input type=\\\"text\\\" id=\\\"buildingNo\\\" value=\\\"\\\" placeholder=\\\"Building No\\\" name=\\\"buildingNumber\\\" [(ngModel)]=\\\"bNo\\\">\\n                <input type=\\\"text\\\" id=\\\"floorNo\\\" value=\\\"\\\" placeholder=\\\"Floor No\\\" name=\\\"floorNumberNumber\\\" [(ngModel)]=\\\"fNo\\\">\\n                <input #nodeId type=\\\"text\\\" id=\\\"spanNode\\\">\\n                <input #poiId type=\\\"text\\\" id=\\\"poiId\\\">\\n                <input #nodeKind type=\\\"text\\\" id=\\\"nodeKind\\\">\\n                <input #type type=\\\"text\\\" id=\\\"type\\\">\\n              </div>\\n            </div>\\n          </form>\\n        </div>\\n        <div class=\\\"pathBuilder\\\">\\n          <!--<md-progress-bar mode=\\\"indeterminate\\\"></md-progress-bar>-->\\n          <div class=\\\"dragContainer\\\" id=\\\"lcanvas\\\"\\n            [ngStyle]=\\\"isShowBuilder ? {'display':'flex','justify-content':'center'} : ''\\\">\\n            <!--<div class=\\\"floor\\\" id=\\\"lcanvas\\\">-->\\n            <!--<div id=\\\"image-wrapper\\\" *ngIf=\\\"isShowBuilder\\\">-->\\n            <!--</div>-->\\n            <!--</div>-->\\n\\n            <div class=\\\"upload\\\" [appDragAndDrop] *ngIf=\\\"!isShowBuilder\\\" id=\\\"setFloorImg\\\">\\n              <!-- <img class=\\\"mb-5\\\" src=\\\"../../../../../assets/images/plus-circle-icon.png\\\" alt=\\\"\\\"> -->\\n              <p class=\\\"addFloor\\\">Floor Plan Not Configured</p>\\n              <div class=\\\"legends\\\">\\n                <!-- <span class=\\\"d-flex\\\" >\\n                   <img class=\\\"mr-20\\\" src=\\\"../../../../../assets/images/folder-icon.png\\\" alt=\\\"\\\">\\n                    Browse File Computer</span> -->\\n              </div>\\n              <div class=\\\"borderLine\\\"></div>\\n              <span class=\\\"support\\\">Supported File Formats</span>\\n              <div class=\\\"brandIcons\\\">\\n                <img src=\\\"../../../../../assets/images/jpg-icon.png\\\" alt=\\\"\\\">\\n                <img src=\\\"../../../../../assets/images/png-icon.png\\\" alt=\\\"\\\">\\n              </div>\\n              <span class=\\\"smallText\\\">Supported File Formats<span [style.direction]=\\\"'LTR'\\\">1000*1200 px</span></span>\\n            </div>\\n            <!-- <input type=\\\"file\\\" #fileInput (change)=\\\"uploadFile($event.target.files)\\\" id=\\\"hidden-bg-upload\\\" accept=\\\"image/x-png,image/jpeg\\\"> -->\\n            <!--<input type=\\\"file\\\" id=\\\"hidden-graph-upload\\\">-->\\n            <!--<img *ngIf=\\\"false\\\" id=\\\"pinch-zoom-image-id\\\" class=\\\"pinch-zoom-image\\\" src=\\\"../assets/images/floor_plan.jpg\\\">-->\\n          </div>\\n          <!-- <div class=\\\"floorLegendLeft\\\" *ngIf=\\\"isShowBuilder\\\">\\n              <img src=\\\"../../assets/icons/legend.png\\\" alt=\\\"\\\" (click)=\\\"isShowLegend = !isShowLegend\\\">\\n              <app-floating-btn class=\\\"applgout\\\"   [position]=\\\"{ top: '-6px', left: '40px'}\\\"\\n                                [custom]=\\\"true\\\"\\n                                *ngIf=\\\"isShowLegend\\\">\\n                <div class=\\\"legendBody\\\">\\n                  <span class=\\\"legendData\\\" [style.direction]=\\\"langDirection\\\">{{langObj?.poi}}<span class=\\\"ml-2\\\">:</span> <span class=\\\"ml-2\\\" [style.color]=\\\"'#0fce21'\\\">{{rawPOIList?.poiCount ? rawPOIList?.poiCount : 0}}</span></span>\\n                  <span class=\\\"legendData\\\" [style.direction]=\\\"langDirection\\\">{{langObj?.facility}} <span class=\\\"ml-2\\\">:</span> <span class=\\\"ml-2\\\" [style.color]=\\\"'#440084'\\\">{{rawPOIList?.facilityCount ? rawPOIList?.facilityCount : 0}}</span></span>\\n                  <span class=\\\"legendData\\\" [style.direction]=\\\"langDirection\\\">{{langObj?.active}} <span class=\\\"ml-2\\\">:</span> <span class=\\\"ml-2\\\" [style.color]=\\\"'#12991f'\\\">{{rawPOIList?.activeCount ? rawPOIList?.activeCount : 0}}</span></span>\\n                  <span class=\\\"dataLastChild\\\" [style.direction]=\\\"langDirection\\\">{{langObj?.inactive}} <span class=\\\"ml-2\\\">:</span> <span class=\\\"ml-2\\\" [style.color]=\\\"'#fd001a'\\\">{{rawPOIList?.inActiveCount ? rawPOIList?.inActiveCount : 0}}</span></span>\\n                </div>\\n              </app-floating-btn>\\n            </div> -->\\n          <!-- <div class=\\\"floorLegend\\\" *ngIf=\\\"isShowBuilder\\\">\\n              <div class=\\\"mb-12\\\">\\n                <label class=\\\"mr-8\\\"> To Add POI</label>\\n                <span>Shift+Click</span>\\n              </div>\\n              <div>\\n                <label  class=\\\"mr-8 ml-12\\\">To Delete POI/Path</label>\\n                <span>Shift+Delete</span>\\n              </div>\\n            </div> -->\\n        </div>\\n      </div>\\n    </mat-drawer-content>\\n  </mat-drawer-container>\\n</div>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PropertyViewGraphicComponent } from './property-view-graphic.component';\n\n\nexport const routes: Routes = [\n  { path: '', component: PropertyViewGraphicComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PropertyViewGraphicRoutingModule { }\n\n","export default \"app-property-view-graphic {\\n  display: flex;\\n  flex: 1 1 auto;\\n}\\napp-property-view-graphic .mat-drawer-container .mat-drawer {\\n  max-width: 480px !important;\\n  width: 480px !important;\\n}\\napp-property-view-graphic .mat-drawer-container .mat-drawer .helpdesk-filter-drawer {\\n  padding: 30px 25px 30px 25px;\\n}\\napp-property-view-graphic .mat-drawer-container .mat-drawer .helpdesk-filter-drawer .title {\\n  display: flex;\\n  margin: 0 0 30px 0;\\n}\\napp-property-view-graphic .mat-drawer-container .mat-drawer .helpdesk-filter-drawer .title h4 {\\n  padding: 10px 0 0 0 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9hbXMvbXktcHJvcGVydHkvcHJvcGVydHktdmlldy1ncmFwaGljL3Byb3BlcnR5LXZpZXctZ3JhcGhpYy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSxjQUFBO0FBQ0o7QUFBSTtFQUNJLDJCQUFBO0VBQ0EsdUJBQUE7QUFFUjtBQURRO0VBQ0ksNEJBQUE7QUFHWjtBQUZZO0VBQ0ksYUFBQTtFQUNBLGtCQUFBO0FBSWhCO0FBSGdCO0VBQ0ksOEJBQUE7QUFLcEIiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2Ftcy9teS1wcm9wZXJ0eS9wcm9wZXJ0eS12aWV3LWdyYXBoaWMvcHJvcGVydHktdmlldy1ncmFwaGljLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLXByb3BlcnR5LXZpZXctZ3JhcGhpYyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4OiAxIDEgYXV0bztcbiAgICAubWF0LWRyYXdlci1jb250YWluZXIgLm1hdC1kcmF3ZXIge1xuICAgICAgICBtYXgtd2lkdGg6IDQ4MHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHdpZHRoOiA0ODBweCAhaW1wb3J0YW50O1xuICAgICAgICAuaGVscGRlc2stZmlsdGVyLWRyYXdlciB7XG4gICAgICAgICAgICBwYWRkaW5nOiAzMHB4IDI1cHggMzBweCAyNXB4O1xuICAgICAgICAgICAgLnRpdGxlIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMCAwIDMwcHggMDtcbiAgICAgICAgICAgICAgICBoNCB7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMCAwIDAgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiJdfQ== */\";","import { Component, OnInit, ViewChild, ElementRef, HostListener, ViewEncapsulation } from '@angular/core';\nimport { ApartmentService } from 'src/app/api/controllers/Apartment';\nimport { DocumentService } from 'src/app/api/controllers/Document';\nimport { FileUploadService } from 'src/app/shared/services/file-upload.service';\nimport { FileDownloadService } from 'src/app/shared/services/file-download.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { LookupService } from 'src/app/api/controllers/Lookup';\nimport { MatDialog } from '@angular/material/dialog';\nimport { FileDetailsService } from 'src/app/api/controllers/FileDetails';\nimport { AddPropertyDialogComponent } from 'src/app/modules/ams/profile-settings/components/add-property-dialog/add-property-dialog.component';\nimport { SessionService } from 'src/app/core/session/session.service';\nimport { PropertyManagerService } from 'src/app/api/controllers/PropertyManager';\nimport { MatDrawer } from '@angular/material/sidenav';\nimport { SharedService } from 'src/app/shared/services/shared.service';\n\nimport * as moment from 'moment';\nimport _moment from \"moment-timezone\";\n\ndeclare var d3: any;\ndeclare var GraphCreator: any;\nvar graph;\n\n@Component({\n  selector: 'app-property-view-graphic',\n  templateUrl: './property-view-graphic.component.html',\n  styleUrls: ['./property-view-graphic.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class PropertyViewGraphicComponent implements OnInit {\n\n  loading: boolean = true;\n  isShowBuilder: boolean = false;\n  savePFNode: any;\n  bNo: any = 0;\n  fNo: any = 0;\n  public towerList: Array<any> = [];\n  public floorList: Array<any> = [];\n  public floorPropertyData: any;\n  public updatedGraph: any;\n  public selectedTower: any;\n  public selectedFloor: any;\n  public selectedFloorLabel: any;\n  public selectedFloorNo: any;\n  public uploadResponse: any;\n  public onChangeVal: any;\n  public currentPOIId: any;\n  public propertyTypeList: Array<any> = [];\n  public unitFilterList: Array<any> = [];\n  public selectedUnitFilterValue: any;\n  public selectedPropertyType: any;\n  public styleTop: any;\n  public styleLeft: any;\n  public isShowOver = 'none';\n  public floorMapJson: any;\n  @ViewChild('poiId') poiId: ElementRef;\n  @ViewChild('nodeId') nodeId: ElementRef;\n  @ViewChild('nodeKind') nodeKind: ElementRef;\n  @ViewChild('type') Nodetype: ElementRef;\n  @ViewChild('matDrawer', { static: true }) matDrawer: MatDrawer;\n  constructor(private element: ElementRef,\n    private apartmentService: ApartmentService,\n    private sharedService: SharedService,\n    private fileUploadService: FileUploadService,\n    private fileDownloadService: FileDownloadService,\n    private sanitizer: DomSanitizer,\n    private lookupService: LookupService,\n    private propertyManagerService: PropertyManagerService,\n    public dialog: MatDialog,\n    private sessionService: SessionService,\n    private fileDetailService: FileDetailsService) {\n    localStorage.setItem('preventGraph', 'true');\n  }\n\n  ngOnInit(): void {\n    this.getBlockList();\n    this.getPropertyType();\n    this.unitFilterList = [\n      {\n        id: 'isAvailableForRent',\n        name: \"Available For Rent\"\n      },\n      {\n        id: 'isPetsAllowed',\n        name: \"Pets Allowed\"\n      },\n      {\n        id: 'isFurnished',\n        name: \"Furnished\"\n      },\n      {\n        id: 'isVacant',\n        name: \"Vacant\"\n      },\n      {\n        id: 'isSold',\n        name: \"Sold\"\n      },\n      {\n        id: 'constructionInProgress',\n        name: \"Construction In Progress\"\n      },\n      {\n        id: 'twoBR',\n        name: \"2 BR\"\n      }\n    ]\n  }\n    \n  ngAfterViewInit(){\n    this.bootMe();\n  }\n\n\n  selectPropertyType(e) {\n    this.selectedPropertyType = e[0].lookupValueId;\n    switch (Number(this.selectedPropertyType)) {\n      case 318:\n        this.getUnitProperty();\n        break;\n      case 319:\n        this.getAssetProperty();\n        break;\n      case 320:\n        this.getFacilityProperty();\n        break;\n      case 321:\n        this.getMaintananceProperty();\n        break;\n      default:\n        break;\n    }\n  }\n\n  getUnitProperty() {\n    let getParam = {\n      apartmentId: this.sessionService.apartmentId,\n      propertyPOIType: this.selectedPropertyType\n    }\n    this.propertyManagerService.getAllPropertyPoiUnitByPropertyPoiType(getParam).subscribe(\n      resp => {\n\n      }\n    )\n  }\n\n  getAssetProperty() {\n    let getParam = {\n      apartmentId: this.sessionService.apartmentId,\n      propertyPOIType: this.selectedPropertyType\n    }\n    this.propertyManagerService.getAllPropertyPoiAssetByPropertyPoiType(getParam).subscribe(\n      resp => {\n\n      }\n    )\n  }\n\n  getFacilityProperty() {\n    let getParam = {\n      apartmentId: this.sessionService.apartmentId,\n      propertyPOIType: this.selectedPropertyType\n    }\n    this.propertyManagerService.getAllPropertyPoiFacilityByPropertyPoiType(getParam).subscribe(\n      resp => {\n\n      }\n    )\n  }\n\n  getMaintananceProperty() {\n    let getParam = {\n      apartmentId: this.sessionService.apartmentId,\n      propertyPOIType: this.selectedPropertyType\n    }\n    this.propertyManagerService.getAllPropertyPoiOpMaintenanceByPropertyPoiType(getParam).subscribe(\n      resp => {\n\n      }\n    )\n  }\n\n  getBlockList() {\n    let param = {\n      apartmentId: this.sessionService.apartmentId\n    }\n    this.apartmentService.getApartmentBlockByApartmentId(param).subscribe(\n      (resp: any) => {\n        this.towerList = resp;\n        this.selectedTower = this.towerList[0].apartmentBlockId;\n        this.getFloorList(undefined);\n      },\n      error => {\n\n      }\n    )\n  }\n\n  getFloorList(e) {\n    if (e) {\n      this.selectedTower = e[0].apartmentBlockId;\n    }\n    let getFloorParam = {\n      apartmentId: this.sessionService.apartmentId,\n      apartmentblockId: this.selectedTower\n    }\n    this.apartmentService.getApartmentBlockFloorByApartmentIdBlockId(getFloorParam).subscribe(\n      (resp: any) => {\n        if (resp && resp.length) {\n          this.floorList = resp;\n          this.selectedFloor = this.floorList[0].apartmentBlockFloorId;\n          this.selectFloor(undefined);\n          // this.getPropertyMap(this.floorList[0].propertyMapFileId);\n        }\n      },\n      error => {\n\n      }\n    )\n  }\n\n  selectFloor(e) {\n    if (e) {\n      this.selectedFloor = e[0].apartmentBlockFloorId;\n    }\n    if (this.selectedFloor) {\n      this.floorList.filter(key => {\n        if (key.apartmentBlockFloorId == this.selectedFloor) {\n          this.selectedFloorLabel = key.floorLabel;\n          this.selectedFloorNo = key.floorno;\n          this.getPropertyMap(key.propertyMapFileId);\n        }\n      })\n    }\n  }\n\n\n  getPropertyType() {\n    let getLookUpParam = {\n      ApartmentId: this.sessionService.apartmentId,\n      LookupTypeId: 196\n    }\n    this.lookupService.getLookupValueByLookupTypeId(getLookUpParam).subscribe(\n      (resp: any) => {\n        this.propertyTypeList = resp;\n      },\n      error => {\n\n      }\n    )\n  }\n\n  addProperty(type): void {\n    let data: any = this.onChangeVal;\n    data['type'] = type;\n    data['apartmentBlockId'] = this.selectedFloor;\n    const dialogRef = this.dialog.open(AddPropertyDialogComponent, {\n      width: '20%',\n      position: {\n        right: '10%'\n      },\n      data: data\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        let objectVal: Array<string> = [];\n        for (const key in result) {\n          objectVal.push(key)\n        }\n        objectVal.splice(0, 2);\n        // let arrObjVal = JSON.stringify(objectVal);\n        $('#nodeKind').val(objectVal.toString());\n        $('#spanNode').val(this.onChangeVal.nodeId);\n        $('#poiId').val(result.poiId);\n        $('#type').val(result.type);\n        this.updatePOI();\n      }\n    });\n  }\n\n\n  getPropertyMap(propertyId) {\n    let getFloorProperty = {\n      propertyMapFileId: propertyId\n    }\n    this.apartmentService.getPropertyMapFileById(getFloorProperty).subscribe(\n      (resp: any) => {\n        if (resp && resp.length) {\n          this.floorPropertyData = resp[0];\n          this.assignData(this.floorPropertyData)\n        }\n      },\n      error => {\n\n      }\n    )\n  }\n\n  assignData(data) {\n    if (data && data.floorPictureFileDetailsId && data.floorPictureFileDetailsId != 0 && data.mapJsonFile != \"\") {\n      this.isShowBuilder = true;\n      setTimeout(() => {\n        this.removeD3Elements();\n        graph.deleteGraph();\n        this.getFileDetails(data.floorPictureFileDetailsId);\n        graph.customGraphUpdate(data.mapJsonFile, undefined);\n        this.floorMapJson = data.mapJsonFile;\n      }, 1)\n    } else if (data && data.floorPictureFileDetailsId && data.floorPictureFileDetailsId != 0) {\n      this.isShowBuilder = true;\n      setTimeout(() => {\n        this.removeD3Elements();\n        this.getFileDetails(data.floorPictureFileDetailsId);\n        // graph.customImageUpdalod(this.getImage(data.floorPictureFileDetailsId));\n      }, 1)\n    } else {\n      this.isShowBuilder = false;\n    }\n  }\n\n  getFileDetails(imageId) {\n    let newParams = {\n      fileDetailsId: imageId,\n      apartmentId: this.sessionService.apartmentId\n    }\n\n    this.fileDetailService.getFileDetailsById(newParams).subscribe((res: any) => {\n      this.downloadFile(res[0].filePath)\n    })\n  }\n\n  downloadFile(filePath) {\n    this.fileDownloadService.downloadFile(filePath).subscribe((res: any) => {\n      const blob = res.body\n      let objectURL = URL.createObjectURL(blob);\n      let sanitizeUrl: any = this.sanitizer.bypassSecurityTrustUrl(objectURL);\n      graph.customImageUpdalod(sanitizeUrl.changingThisBreaksApplicationSecurity);\n    })\n\n  }\n\n  getImage(floorPictureFileDetailsId) {\n    let downloadParam = {\n      fileNameOnBlob: floorPictureFileDetailsId,\n      savefileNameWithPath: ''\n    }\n    this.fileDetailService.downloadAsync(downloadParam).subscribe(\n      resp => {\n        return resp;\n      },\n      error => {\n\n      }\n    )\n  }\n\n  bootMe() {\n    let docEl = document.documentElement,\n      bodyEl = document.getElementsByTagName('body')[0];\n\n    let width = window.innerWidth || docEl.clientWidth || bodyEl.clientWidth,\n      height = window.innerHeight || docEl.clientHeight || bodyEl.clientHeight;\n    // initial node data\n    var nodes = [];\n    var edges = [];\n    /** MAIN SVG **/\n    var svg = d3.select(\"#lcanvas\").append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    graph = new GraphCreator(svg, nodes, edges);\n    graph.setIdCt(0);\n    // this.graph.updateGraph();\n  }\n\n  addPropertyMap(imageId) {\n    this.downloadGraph();\n    let addPropertyMap = {\n      propertyMapFile: {\n        \"propertyMapFileId\": 0,\n        \"apartmentId\": this.sessionService.apartmentId,\n        \"apartmentBlockId\": this.selectedTower,\n        \"description\": \"\",\n        \"isIndoor\": true,\n        \"floorno\": this.selectedFloorNo,\n        \"floorLabel\": this.selectedFloorLabel,\n        \"floorPictureFileDetailsId\": imageId,\n        \"mapJsonFile\": JSON.stringify(this.updatedGraph),\n        \"isActive\": true,\n        \"insertedBy\": this.sessionService.userId,\n        \"insertedOn\": _moment().toISOString(),\n        \"updatedBy\": 0,\n        \"updatedOn\": _moment().toISOString(),\n        \"apartmentBlockFloorId\": this.selectedFloor\n      }\n    }\n    this.apartmentService.addPropertyMapFile(addPropertyMap).subscribe(\n      (resp: any) => {\n        this.floorPropertyData = resp;\n        this.assignData(this.floorPropertyData)\n      },\n      error => {\n\n      }\n    )\n  }\n\n  updateProperty() {\n    this.downloadGraph();\n    let updatePropertyMap = {\n      propertyMapFile: {\n        \"propertyMapFileId\": this.floorPropertyData.propertyMapFileId,\n        \"apartmentId\": this.sessionService.apartmentId,\n        \"apartmentBlockId\": this.selectedFloor,\n        \"description\": \"\",\n        \"isIndoor\": true,\n        \"floorno\": this.selectedFloorNo,\n        \"floorLabel\": this.selectedFloorLabel,\n        \"floorPictureFileDetailsId\": this.floorPropertyData.floorPictureFileDetailsId,\n        \"mapJsonFile\": JSON.stringify(this.updatedGraph),\n        \"isActive\": true,\n        \"insertedBy\": 0,\n        \"insertedOn\": _moment().toISOString(),\n        \"updatedBy\": this.sessionService.userId,\n        \"updatedOn\": _moment().toISOString(),\n        \"apartmentBlockFloorId\": this.selectedTower\n      }\n    }\n    this.apartmentService.updatePropertyMapFile(updatePropertyMap).subscribe(\n      (resp: any) => {\n        this.floorPropertyData = resp;\n        // this.assignData(this.floorPropertyData)\n      },\n      error => {\n\n      }\n    )\n  }\n\n  downloadGraph() {\n    var savePFNodes = [];\n    var saveEdges = [];\n    var savePFEdges = [];\n\n    var prefix = this.bNo + \"_\" + this.fNo + \"_\";\n    var sid, tid;\n    var nobj;\n    this.savePFNode = [];\n    graph.nodes.forEach(function (val, i) {\n      nobj = {}\n      nobj.id = prefix + val.id\n      nobj.x = val.x\n      nobj.y = val.y\n      nobj.poiId = val.poiId\n      nobj.kind = val.kind\n      savePFNodes.push(nobj)\n    });\n    this.savePFNode = savePFNodes;\n    graph.edges.forEach(function (val, i) {\n      saveEdges.push({ source: val.source.id, target: val.target.id });\n      sid = prefix + val.source.id;\n      tid = prefix + val.target.id;\n      savePFEdges.push({ source: sid, target: tid });\n    });\n    var fullObj = {\n      maponly: {\n        idct: graph.idct,\n        buildingNo: this.bNo,\n        floorNo: this.fNo,\n        nodes: graph.nodes,\n        edges: saveEdges\n      }, output: {\n        floorNo: this.fNo,\n        nodes: savePFNodes,\n        edges: savePFEdges\n      }\n    };\n    this.updatedGraph = fullObj;\n    /*fullObj.maponly.idct = graph.idct\n    fullObj.maponly.buildingNo = this.bNo\n    fullObj.maponly.floorNo = this.fNo\n    fullObj.maponly.nodes = graph.nodes\n    fullObj.maponly.edges = saveEdges\n    fullObj.output.floorNo = this.fNo\n    fullObj.output.nodes = savePFNodes\n    fullObj.output.edges = savePFEdges*/\n\n    // var blob = new Blob([JSON.stringify(fullObj)], {type: \"text/plain;charset=utf-8\"});\n    // //for time being commented out\n    // saveAs(blob, \"mydag.json\");\n  }\n\n  selectedUnitFilter(e) {\n    this.selectedUnitFilterValue = e[0].id;\n    let selectedObj = { type: this.selectedPropertyType, selectedCategory: this.selectedUnitFilterValue }\n    graph.customGraphUpdate(this.floorPropertyData.mapJsonFile, selectedObj);\n  }\n\n  updatePOI() {\n    if ($('#poiId').val() && $('#nodeKind').val() && $('#spanNode').val()) {\n      graph.setPOIId();\n      this.updateProperty();\n    }\n  }\n\n  browseFile() {\n    var fileUpload = $(this.element.nativeElement).find(\"input[id='hidden-bg-upload']\");\n    fileUpload.trigger(\"click\");\n  }\n\n\n  ngOnDestroy() {\n    this.removeD3Elements();\n    graph.deleteGraph();\n    localStorage.removeItem('preventGraph');\n  }\n\n  removeD3Elements(){\n    d3.select(\"#bgimage\").remove();\n    d3.select(\"#smart-path\").remove();\n    d3.select(\"#smart-path-navigation\").remove();\n  }\n\n  goBack() {\n    this.matDrawer.close();\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { RouterModule } from '@angular/router';\nimport { routes } from './property-view-graphic-routing.module';\nimport { PropertyViewGraphicRoutingModule } from './property-view-graphic-routing.module';\n\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { SelectModule } from 'src/app/modules/ui/select/select.module';\n\nimport { PropertyViewGraphicComponent } from './property-view-graphic.component';\n\n\n@NgModule({\n  declarations: [ PropertyViewGraphicComponent ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    SelectModule,\n    RouterModule.forChild(routes),\n    PropertyViewGraphicRoutingModule\n    ],\n  bootstrap: [\n    PropertyViewGraphicComponent\n  ]\n})\nexport class PropertyViewGraphicModule { }\n"],"sourceRoot":"webpack:///"}